---
import BaseLayout from '../../layouts/baseLayout.astro';
import data from '../../../public/top500games.json';
import GameGrid from '../../componets/GameGrid.vue';
import '../../assets/global.css';

export function getStaticPaths() {
  return data.games.map((game) => ({
    params: { id: game.gameId },
    props: { game },
  }));
}


const { game } = Astro.props;
---

<BaseLayout title={game.title}>
  <GameGrid currentGame={game} client:only="vue" />
  <script>
      const script = document.createElement('script');
      script.src = 'https://burritoedition.github.io/emu/ruffle/ruffle.js';
      script.defer = true;
      document.head.appendChild(script);
  </script>
  <script src="https://burritoedition.github.io/emu/jszip.min.js"></script>
</BaseLayout>